---
title: Valores generados - Core EF
author: rowanmiller
ms.author: divega
ms.date: 10/27/2016
ms.assetid: eb082011-11a1-41b4-a108-15daafa03e80
ms.technology: entity-framework-core
uid: core/modeling/generated-properties
ms.openlocfilehash: 892494461bcf49ee10d05c972da0ba19ca003c35
ms.sourcegitcommit: 4b7d3d3e258b0d9cb778bb45a9f4a33c0792e38e
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 02/28/2018
---
# <a name="generated-values"></a><span data-ttu-id="a54a5-102">Valores generados</span><span class="sxs-lookup"><span data-stu-id="a54a5-102">Generated Values</span></span>

## <a name="value-generation-patterns"></a><span data-ttu-id="a54a5-103">Valor de generación de modelos</span><span class="sxs-lookup"><span data-stu-id="a54a5-103">Value Generation Patterns</span></span>

<span data-ttu-id="a54a5-104">Hay tres patrones de generación de valor que se pueden usar para las propiedades.</span><span class="sxs-lookup"><span data-stu-id="a54a5-104">There are three value generation patterns that can be used for properties.</span></span>

### <a name="no-value-generation"></a><span data-ttu-id="a54a5-105">No se genera valor</span><span class="sxs-lookup"><span data-stu-id="a54a5-105">No value generation</span></span>

<span data-ttu-id="a54a5-106">No se genera valor significa que siempre proporcione un valor válido van a guardar en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="a54a5-106">No value generation means that you will always supply a valid value to be saved to the database.</span></span> <span data-ttu-id="a54a5-107">Este valor válido debe asignarse a las nuevas entidades antes de que se agregan al contexto.</span><span class="sxs-lookup"><span data-stu-id="a54a5-107">This valid value must be assigned to new entities before they are added to the context.</span></span>

### <a name="value-generated-on-add"></a><span data-ttu-id="a54a5-108">Valor generado en Agregar</span><span class="sxs-lookup"><span data-stu-id="a54a5-108">Value generated on add</span></span>

<span data-ttu-id="a54a5-109">Valor generado en complemento significa que se genera un valor para las nuevas entidades.</span><span class="sxs-lookup"><span data-stu-id="a54a5-109">Value generated on add means that a value is generated for new entities.</span></span>

<span data-ttu-id="a54a5-110">Dependiendo del proveedor de base de datos que se va a utilizar, los valores pueden ser generado cliente EF o en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="a54a5-110">Depending on the database provider being used, values may be generated client side by EF or in the database.</span></span> <span data-ttu-id="a54a5-111">Si el valor se genera la base de datos, EF puede asignar un valor temporal cuando se agrega la entidad al contexto.</span><span class="sxs-lookup"><span data-stu-id="a54a5-111">If the value is generated by the database, then EF may assign a temporary value when you add the entity to the context.</span></span> <span data-ttu-id="a54a5-112">Este valor temporal, a continuación, se reemplazará por el valor de la base de datos generada durante la `SaveChanges()`.</span><span class="sxs-lookup"><span data-stu-id="a54a5-112">This temporary value will then be replaced by the database generated value during `SaveChanges()`.</span></span>

<span data-ttu-id="a54a5-113">Si agrega una entidad en el contexto que tiene un valor asignado a la propiedad, EF intentará insertar ese valor en lugar de generar uno nuevo.</span><span class="sxs-lookup"><span data-stu-id="a54a5-113">If you add an entity to the context that has a value assigned to the property, then EF will attempt to insert that value rather than generating a new one.</span></span> <span data-ttu-id="a54a5-114">Una propiedad se considera que tiene un valor asignado si no se asigna el valor predeterminado CLR (`null` para `string`, `0` para `int`, `Guid.Empty` para `Guid`, etcetera.).</span><span class="sxs-lookup"><span data-stu-id="a54a5-114">A property is considered to have a value assigned if it is not assigned the CLR default value (`null` for `string`, `0` for `int`, `Guid.Empty` for `Guid`, etc.).</span></span> <span data-ttu-id="a54a5-115">Para obtener más información, consulte [valores explícitos para propiedades generadas](..\saving\explicit-values-generated-properties.md).</span><span class="sxs-lookup"><span data-stu-id="a54a5-115">For more information, see [Explicit values for generated properties](..\saving\explicit-values-generated-properties.md).</span></span>

> [!WARNING]  
> <span data-ttu-id="a54a5-116">Cómo se genera el valor para entidades agregadas dependerá del proveedor de base de datos que se está usando.</span><span class="sxs-lookup"><span data-stu-id="a54a5-116">How the value is generated for added entities will depend on the database provider being used.</span></span> <span data-ttu-id="a54a5-117">Proveedores de base de datos pueden automáticamente el programa de instalación generar valores para algunos tipos de propiedad, pero otros pueden requerir que el programa de instalación manualmente cómo se genera el valor.</span><span class="sxs-lookup"><span data-stu-id="a54a5-117">Database providers may automatically setup value generation for some property types, but others may require you to manually setup how the value is generated.</span></span>
>
> <span data-ttu-id="a54a5-118">Por ejemplo, cuando se usa SQL Server, los valores se generará automáticamente para `GUID` propiedades (utilizando el algoritmo GUID secuencial de SQL Server).</span><span class="sxs-lookup"><span data-stu-id="a54a5-118">For example, when using SQL Server, values will be automatically generated for `GUID` properties (using the SQL Server sequential GUID algorithm).</span></span> <span data-ttu-id="a54a5-119">Sin embargo, si especifica que un `DateTime` generar propiedad en Agregar, a continuación, debe configurar una manera para que los valores que se genere.</span><span class="sxs-lookup"><span data-stu-id="a54a5-119">However, if you specify that a `DateTime` property is generated on add, then you must setup a way for the values to be generated.</span></span> <span data-ttu-id="a54a5-120">Una manera de hacer esto, consiste en configurar un valor predeterminado de `GETDATE()`, consulte [valores predeterminados](relational/default-values.md).</span><span class="sxs-lookup"><span data-stu-id="a54a5-120">One way to do this, is to configure a default value of `GETDATE()`, see [Default Values](relational/default-values.md).</span></span>

### <a name="value-generated-on-add-or-update"></a><span data-ttu-id="a54a5-121">Valor generado en Agregar o actualizar</span><span class="sxs-lookup"><span data-stu-id="a54a5-121">Value generated on add or update</span></span>

<span data-ttu-id="a54a5-122">Valor generado en Agregar o actualizar significa que se genera un nuevo valor cada vez que se guarda el registro (insert o update).</span><span class="sxs-lookup"><span data-stu-id="a54a5-122">Value generated on add or update means that a new value is generated every time the record is saved (insert or update).</span></span>

<span data-ttu-id="a54a5-123">Al igual que `value generated on add`, si especifica un valor para la propiedad en una instancia recién agregada de una entidad, que se insertará el valor en lugar de un valor que se está generando.</span><span class="sxs-lookup"><span data-stu-id="a54a5-123">Like `value generated on add`, if you specify a value for the property on a newly added instance of an entity, that value will be inserted rather than a value being generated.</span></span> <span data-ttu-id="a54a5-124">También es posible establecer un valor explícito al actualizar.</span><span class="sxs-lookup"><span data-stu-id="a54a5-124">It is also possible to set an explicit value when updating.</span></span> <span data-ttu-id="a54a5-125">Para obtener más información, consulte [valores explícitos para propiedades generadas](..\saving\explicit-values-generated-properties.md).</span><span class="sxs-lookup"><span data-stu-id="a54a5-125">For more information, see [Explicit values for generated properties](..\saving\explicit-values-generated-properties.md).</span></span>

> [!WARNING]  
> <span data-ttu-id="a54a5-126">Cómo se genera el valor para las entidades agregadas y actualizadas dependerá del proveedor de base de datos que se está usando.</span><span class="sxs-lookup"><span data-stu-id="a54a5-126">How the value is generated for added and updated entities will depend on the database provider being used.</span></span> <span data-ttu-id="a54a5-127">Proveedores de base de datos pueden automáticamente el programa de instalación generar valores para algunos tipos de propiedades, mientras que otros usuarios, deberá configurar manualmente cómo se genera el valor.</span><span class="sxs-lookup"><span data-stu-id="a54a5-127">Database providers may automatically setup value generation for some property types, while others will require you to manually setup how the value is generated.</span></span>
>
> <span data-ttu-id="a54a5-128">Por ejemplo, cuando se usa SQL Server, `byte[]` propiedades que se establecen como generadas en Agregar o actualizar y marcados como tokens de simultaneidad, se configurará con la `rowversion` de tipo de datos - para que se generarán valores en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="a54a5-128">For example, when using SQL Server, `byte[]` properties that are set as generated on add or update and marked as concurrency tokens, will be setup with the `rowversion` data type - so that values will be generated in the database.</span></span> <span data-ttu-id="a54a5-129">Sin embargo, si especifica que un `DateTime` generar propiedad en Agregar o actualizar, a continuación, debe configurar una manera para que los valores que se genere.</span><span class="sxs-lookup"><span data-stu-id="a54a5-129">However, if you specify that a `DateTime` property is generated on add or update, then you must setup a way for the values to be generated.</span></span> <span data-ttu-id="a54a5-130">Una manera de hacer esto, consiste en configurar un valor predeterminado de `GETDATE()` (consulte [valores predeterminados](relational/default-values.md)) para generar valores para las nuevas filas.</span><span class="sxs-lookup"><span data-stu-id="a54a5-130">One way to do this, is to configure a default value of `GETDATE()` (see [Default Values](relational/default-values.md)) to generate values for new rows.</span></span> <span data-ttu-id="a54a5-131">A continuación, podría utilizar un desencadenador de base de datos para generar valores durante las actualizaciones (por ejemplo, el siguiente desencadenador de ejemplo).</span><span class="sxs-lookup"><span data-stu-id="a54a5-131">You could then use a database trigger to generate values during updates (such as the following example trigger).</span></span>
>
> [!code-sql[Main](../../../samples/core/Modeling/FluentAPI/Samples/ValueGeneratedOnAddOrUpdate.sql)]

## <a name="conventions"></a><span data-ttu-id="a54a5-132">Convenciones</span><span class="sxs-lookup"><span data-stu-id="a54a5-132">Conventions</span></span>

<span data-ttu-id="a54a5-133">Por convención, las claves principales de no compuestas de tipo short, int, long o Guid será el programa de instalación tiene valores generados en Agregar.</span><span class="sxs-lookup"><span data-stu-id="a54a5-133">By convention, non-composite primary keys of type short, int, long, or Guid will be setup to have values generated on add.</span></span> <span data-ttu-id="a54a5-134">Todas las demás propiedades se configurará con la generación de ningún valor.</span><span class="sxs-lookup"><span data-stu-id="a54a5-134">All other properties will be setup with no value generation.</span></span>

## <a name="data-annotations"></a><span data-ttu-id="a54a5-135">Anotaciones de datos</span><span class="sxs-lookup"><span data-stu-id="a54a5-135">Data Annotations</span></span>

### <a name="no-value-generation-data-annotations"></a><span data-ttu-id="a54a5-136">No se genera valor (anotaciones de datos)</span><span class="sxs-lookup"><span data-stu-id="a54a5-136">No value generation (Data Annotations)</span></span>

[!code-csharp[Main](../../../samples/core/Modeling/DataAnnotations/Samples/ValueGeneratedNever.cs#Sample)]

### <a name="value-generated-on-add-data-annotations"></a><span data-ttu-id="a54a5-137">Valor generado en Agregar (anotaciones de datos)</span><span class="sxs-lookup"><span data-stu-id="a54a5-137">Value generated on add (Data Annotations)</span></span>

[!code-csharp[Main](../../../samples/core/Modeling/DataAnnotations/Samples/ValueGeneratedOnAdd.cs#Sample)]

> [!WARNING]  
> <span data-ttu-id="a54a5-138">Esto permite EF sabe que los valores se generan para entidades agregadas, no garantiza que EF configurará el mecanismo real para generar valores.</span><span class="sxs-lookup"><span data-stu-id="a54a5-138">This just lets EF know that values are generated for added entities, it does not guarantee that EF will setup the actual mechanism to generate values.</span></span> <span data-ttu-id="a54a5-139">Vea [agregar valor generado en](#value-generated-on-add) sección para obtener más detalles.</span><span class="sxs-lookup"><span data-stu-id="a54a5-139">See [Value generated on add](#value-generated-on-add) section for more details.</span></span>

### <a name="value-generated-on-add-or-update-data-annotations"></a><span data-ttu-id="a54a5-140">Valor generado en Agregar o actualizar (anotaciones de datos)</span><span class="sxs-lookup"><span data-stu-id="a54a5-140">Value generated on add or update (Data Annotations)</span></span>

[!code-csharp[Main](../../../samples/core/Modeling/DataAnnotations/Samples/ValueGeneratedOnAddOrUpdate.cs#Sample)]

> [!WARNING]  
> <span data-ttu-id="a54a5-141">Esto permite EF sabe que se generan los valores para las entidades agregadas o actualizadas, no garantiza que EF configurará el mecanismo real para generar valores.</span><span class="sxs-lookup"><span data-stu-id="a54a5-141">This just lets EF know that values are generated for added or updated entities, it does not guarantee that EF will setup the actual mechanism to generate values.</span></span> <span data-ttu-id="a54a5-142">Vea [valor generado en Agregar o actualizar](#value-generated-on-add-or-update) sección para obtener más detalles.</span><span class="sxs-lookup"><span data-stu-id="a54a5-142">See [Value generated on add or update](#value-generated-on-add-or-update) section for more details.</span></span>

## <a name="fluent-api"></a><span data-ttu-id="a54a5-143">API fluida</span><span class="sxs-lookup"><span data-stu-id="a54a5-143">Fluent API</span></span>

<span data-ttu-id="a54a5-144">Puede usar la API fluida para cambiar el modelo de generación de valor para una propiedad determinada.</span><span class="sxs-lookup"><span data-stu-id="a54a5-144">You can use the Fluent API to change the value generation pattern for a given property.</span></span>

### <a name="no-value-generation-fluent-api"></a><span data-ttu-id="a54a5-145">No se genera valor (API fluida)</span><span class="sxs-lookup"><span data-stu-id="a54a5-145">No value generation (Fluent API)</span></span>

[!code-csharp[Main](../../../samples/core/Modeling/FluentAPI/Samples/ValueGeneratedNever.cs#Sample)]

### <a name="value-generated-on-add-fluent-api"></a><span data-ttu-id="a54a5-146">Valor generado en Agregar (API fluida)</span><span class="sxs-lookup"><span data-stu-id="a54a5-146">Value generated on add (Fluent API)</span></span>

[!code-csharp[Main](../../../samples/core/Modeling/FluentAPI/Samples/ValueGeneratedOnAdd.cs#Sample)]

> [!WARNING]  
> <span data-ttu-id="a54a5-147">`ValueGeneratedOnAdd()` solo permite EF saber que los valores se generan para entidades agregadas, no garantiza que EF configurará el mecanismo real para generar valores.</span><span class="sxs-lookup"><span data-stu-id="a54a5-147">`ValueGeneratedOnAdd()` just lets EF know that values are generated for added entities, it does not guarantee that EF will setup the actual mechanism to generate values.</span></span>  <span data-ttu-id="a54a5-148">Vea [agregar valor generado en](#value-generated-on-add) sección para obtener más detalles.</span><span class="sxs-lookup"><span data-stu-id="a54a5-148">See [Value generated on add](#value-generated-on-add) section for more details.</span></span>

### <a name="value-generated-on-add-or-update-fluent-api"></a><span data-ttu-id="a54a5-149">Valor generado en Agregar o actualización (API fluida)</span><span class="sxs-lookup"><span data-stu-id="a54a5-149">Value generated on add or update (Fluent API)</span></span>

[!code-csharp[Main](../../../samples/core/Modeling/FluentAPI/Samples/ValueGeneratedOnAddOrUpdate.cs#Sample)]

> [!WARNING]  
> <span data-ttu-id="a54a5-150">Esto permite EF sabe que se generan los valores para las entidades agregadas o actualizadas, no garantiza que EF configurará el mecanismo real para generar valores.</span><span class="sxs-lookup"><span data-stu-id="a54a5-150">This just lets EF know that values are generated for added or updated entities, it does not guarantee that EF will setup the actual mechanism to generate values.</span></span> <span data-ttu-id="a54a5-151">Vea [valor generado en Agregar o actualizar](#value-generated-on-add-or-update) sección para obtener más detalles.</span><span class="sxs-lookup"><span data-stu-id="a54a5-151">See [Value generated on add or update](#value-generated-on-add-or-update) section for more details.</span></span>
